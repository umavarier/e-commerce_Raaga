<%- include ('../layouts/adminHeader.ejs') %>

        <h4 style="color: white;" class="text-center my-5 ">ALL PRODUCTS</h4>

        <br>
        <div style="margin-left: 60px;">
            <a href="/admin/addProduct"><button type="button" class="btn btn-primary mx-3">Add Product</button></a>
        </div>
        <br>
        <table class="table text-center">
            <thead>
                <tr style="color: white;">
                    <th scope="col">SL NO</th>
                    <th scope="col">NAME</th>
                    <th scope="col">STOCK</th>
                    <th scope="col">CATEGORY</th>
                    <th scope="col">PRICE</th>
                    <th scope="col">RATING</th>
                    <th scope="col">IMAGE</th>
                    <th scope="col">ACTION</th>
                </tr>
            </thead>
            <tbody>
                <% if(products.length> 0){ %>
                    <% for(let i=1;i <=products.length; i++){ %>
                        <% if(products.length>=0){ %>
                            <tr  style="color: white;" >
                                <th >
                                    <%= i %>
                                </th>
                                <td>
                                    <%= products[i-1].name %>
                                </td>
                                <td>
                                    <%= products[i-1].stock %>
                                </td>
                                <td>
                                    <%= products[i-1].category %>
                                </td>

                                <td>
                                    <%= products[i-1].price %>
                                </td>
                                <td>
                                    <%= products[i-1].rating %>
                                </td>

                                <td>
                                    <% if(products[i-1].image) { %>
                                        <img src="/uploads/<%= products[i-1].image[0] %>" width="100vw" height="100vh">
                                        <% }else{ %>
                                            Image Not Found
                                            <% } %>
                                </td>
                                <td>
                                    <a class="text-success" style="text-decoration: none;" href="/admin/editProduct?id=<%= products[i-1]._id %>"><i
                                            style="color: green;" class="m-r-5 mdi mdi-border-color"></i>Edit</a><br>
                                    
                                                <% if(products[i-1].isAvailable){ %>
                                                    <a id="<%-products[i-1]._id %>" style="text-decoration: none; color: #310fca;"
                                                        href="/admin/unlistProduct?id=<%-products[i-1]._id %>">Unlist</a>
                                                    <%}else{%>
                                                        <a id="<%-products[i-1]._id %>" style="text-decoration: none; color: #ac9200;"
                                                            href="/admin/unlistProduct?id=<%-products[i-1]._id %>">List</a>
                                                   <%}%>
                                            
                                </td>
                            </tr>
                            <% } %>
                                <% } } else{ %>
                                    <tr style="color: white;" >
                                        <td colspan="5">Products Not Found</td>
                                    </tr>
                                    <% } %>

            </tbody>
        </table>        

        <%- include ('../layouts/adminFooter.ejs') %>